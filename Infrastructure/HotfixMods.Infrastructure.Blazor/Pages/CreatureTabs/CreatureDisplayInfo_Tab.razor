@using HotfixMods.Infrastructure.InfoModels
@using HotfixMods.Infrastructure.Blazor.Components.DtoContent
@using HotfixMods.Core.Enums.Db2

@inherits DtoContentBase<CreatureDto, CreatureDisplayInfo>

<PagedDtoContent T="CreatureDisplayInfo">
    <PagedDtoContentPage>
        <MudItem xs="3">
            <Input_Element T="decimal" @bind-Value="Value.CreatureModelScale" ValueCompare="ValueCompare?.CreatureModelScale" Label="@nameof(Value.CreatureModelScale).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.CreatureModelScale))" />
            <Input_Element T="byte" @bind-Value="Value.CreatureModelAlpha" ValueCompare="ValueCompare?.CreatureModelAlpha" Label="@nameof(Value.CreatureModelAlpha).ToDisplayName()"OnInfoAdornmentClick="@(OpenInfoDialog(info.CreatureModelAlpha))" />
            <Input_Element T="int" @bind-Value="Value.PortraitCreatureDisplayInfoId" ValueCompare="ValueCompare?.PortraitCreatureDisplayInfoId" Label="@nameof(Value.PortraitCreatureDisplayInfoId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.PortraitCreatureDisplayInfoId))" />
            <Input_Element T="int" @bind-Value="Value.PortraitTextureFileDataId" ValueCompare="ValueCompare?.PortraitTextureFileDataId" Label="@nameof(Value.PortraitTextureFileDataId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.PortraitTextureFileDataId))" />
            <Input_Element T="sbyte" @bind-Value="Value.SizeClass" ValueCompare="ValueCompare?.SizeClass" Label="@nameof(Value.SizeClass).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.SizeClass))" />
            <Input_Element T="sbyte" @bind-Value="Value.UnarmedWeaponType" ValueCompare="ValueCompare?.UnarmedWeaponType" Label="@nameof(Value.UnarmedWeaponType).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.UnarmedWeaponType))" />
        </MudItem>
        <MudItem xs="6">
            <Placeholder_Element Amount="4" />
            <InlineGroup Merged="false">
                <LeftContent>
                    <Input_Element T="sbyte" @bind-Value="Value.Gender" ValueCompare="ValueCompare?.Gender" Label="@nameof(Value.Gender).ToDisplayName()" GetOptionsAsync_Func="GetGenders" OnInfoAdornmentClick="@(OpenInfoDialog(info.Gender))" />
                </LeftContent>
                <RightContent>
                    <Input_Element T="ushort" @bind-Value="Value.ModelId" ValueCompare="ValueCompare?.ModelId" Label="@nameof(Value.ModelId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.ModelId))" />
                </RightContent>
            </InlineGroup>
        </MudItem>
        <MudItem xs="3">
            <Input_Element T="byte" @bind-Value="Value.Flags" ValueCompare="ValueCompare?.Flags" Label="@nameof(Value.Flags).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.Flags))" />
            <Input_Element T="byte" @bind-Value="Value.BloodId" ValueCompare="ValueCompare?.BloodId" Label="@nameof(Value.BloodId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.BloodId))" />
            <Input_Element T="ushort" @bind-Value="Value.ParticleColorId" ValueCompare="ValueCompare?.ParticleColorId" Label="@nameof(Value.ParticleColorId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.ParticleColorId))" />
            <Input_Element T="ushort" @bind-Value="Value.ObjectEffectPackageId" ValueCompare="ValueCompare?.ObjectEffectPackageId" Label="@nameof(Value.ObjectEffectPackageId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.ObjectEffectPackageId))" />
            <Input_Element T="int" @bind-Value="Value.DissolveEffectId" ValueCompare="ValueCompare?.DissolveEffectId" Label="@nameof(Value.DissolveEffectId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.DissolveEffectId))" />
            <Input_Element T="int" @bind-Value="Value.DissolveOutEffectId" ValueCompare="ValueCompare?.DissolveOutEffectId" Label="@nameof(Value.DissolveOutEffectId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.DissolveOutEffectId))" />
        </MudItem>
    </PagedDtoContentPage>
    <PagedDtoContentPage>
        <MudItem xs="3">
            <Input_Element T="decimal" @bind-Value="Value.PlayerOverrideScale" ValueCompare="ValueCompare?.PlayerOverrideScale" Label="@nameof(Value.PlayerOverrideScale).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.PlayerOverrideScale))" />
            <Input_Element T="decimal" @bind-Value="Value.PetInstanceScale" ValueCompare="ValueCompare?.PetInstanceScale" Label="@nameof(Value.PetInstanceScale).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.PetInstanceScale))" />
            <Input_Element T="ushort" @bind-Value="Value.AnimReplacementSetId" ValueCompare="ValueCompare?.AnimReplacementSetId" Label="@nameof(Value.AnimReplacementSetId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.AnimReplacementSetId))" />
            <Input_Element T="int" @bind-Value="Value.StateSpellVisualKitId" ValueCompare="ValueCompare?.StateSpellVisualKitId" Label="@nameof(Value.StateSpellVisualKitId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.StateSpellVisualKitId))" />
            <Input_Element T="int" @bind-Value="Value.MountPoofSpellVisualKitId" ValueCompare="ValueCompare?.MountPoofSpellVisualKitId" Label="@nameof(Value.MountPoofSpellVisualKitId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.MountPoofSpellVisualKitId))" />
        </MudItem>
        <MudItem xs="6">
            <Placeholder_Element Amount="4" />
            <InlineGroup Merged="false">
                <LeftContent>
                    <Input_Element T="ushort" @bind-Value="Value.SoundId" ValueCompare="ValueCompare?.SoundId" Label="@nameof(Value.SoundId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.SoundId))" />
                </LeftContent>
                <RightContent>
                    <Input_Element T="ushort" @bind-Value="Value.NpcSoundId" ValueCompare="ValueCompare?.NpcSoundId" Label="@nameof(Value.NpcSoundId).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.NpcSoundId))" />
                </RightContent>
            </InlineGroup>
        </MudItem>
        <MudItem xs="3">
            <Input_Element T="int" @bind-Value="Value.TextureVariationFileDataID1" ValueCompare="ValueCompare?.TextureVariationFileDataID1" Label="Texture Variation File Data ID1" OnInfoAdornmentClick="@(OpenInfoDialog(info.TextureVariationFileDataID1))" />
            <Input_Element T="int" @bind-Value="Value.TextureVariationFileDataID2" ValueCompare="ValueCompare?.TextureVariationFileDataID2" Label="Texture Variation File Data ID2" OnInfoAdornmentClick="@(OpenInfoDialog(info.TextureVariationFileDataID2))" />
            <Input_Element T="int" @bind-Value="Value.TextureVariationFileDataID3" ValueCompare="ValueCompare?.TextureVariationFileDataID3" Label="Texture Variation File Data ID3" OnInfoAdornmentClick="@(OpenInfoDialog(info.TextureVariationFileDataID3))" />
            <Input_Element T="int" @bind-Value="Value.TextureVariationFileDataID4" ValueCompare="ValueCompare?.TextureVariationFileDataID4" Label="Texture Variation File Data ID4" OnInfoAdornmentClick="@(OpenInfoDialog(info.TextureVariationFileDataID4))" />
            <Input_Element T="sbyte" @bind-Value="Value.CreatureModelMinLod" ValueCompare="ValueCompare?.CreatureModelMinLod" Label="@nameof(Value.CreatureModelMinLod).ToDisplayName()" OnInfoAdornmentClick="@(OpenInfoDialog(info.CreatureModelMinLod))" />
        </MudItem>
    </PagedDtoContentPage>
</PagedDtoContent>

@code {
    CreatureDisplayInfoInfo info = new();

    async Task<Dictionary<sbyte, string>> GetGenders()
    {
        return Enum.GetValues<Gender>().ToDictionary(key => (sbyte)key, value => value.ToDisplayString());
    }
}