<MudBadge Icon="@Icons.Material.Filled.Close" Color="Color.Primary" Overlap="true" OnClick="(() => MudDialogInstance.Cancel())" Class="py-4">
    <MudDialog>
        <DialogContent>
            <Loader @ref="loaderRef" StateHasChanged_EventCallback="this.StateHasChanged" />
            @if (null == loaderRef || !loaderRef.IsLoading)
            {
                <MudStack Style="max-height: 600px; overflow-y: scroll">
                    @ChildContent
                </MudStack>
            }
        </DialogContent>

    </MudDialog>
</MudBadge>


@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public MudDialogInstance MudDialogInstance { get; set; }

    uint? _id;
    Loader? loaderRef;

    public void SetLoaderProgress(string progressTitle, string progressSubTitle, int progress)
    {
        loaderRef?.SetProgress(progressTitle, progressSubTitle, progress);
    }

    public void CancelLoaderWithMessage(string message, Severity severity = Severity.Info)
    {
        loaderRef?.CancelWithMessage(message, severity);
        this.StateHasChanged();
    }
}
