@using Extensions;
@using RusBlazor.Components.Button;
@using RusBlazor.Components.ModelView;
@using RusBlazor.Components.Dialog;
@using RusBlazor.Components.Tabs;
@using RusBlazor.Components.Footer;

@page "/"

<RusDialog @ref="_dialog" />



<RusTabs OnMenuClick="OnMenuClickAsync">
    <MenuContent>
        <RusMenu @ref="_rusMenu">
            <MenuContent>
                <RusMenuItem>
                    <RusMenuItemContentText Text="Hello" />
                </RusMenuItem>
                <RusMenuItem>
                    <RusMenuItemContentText Text="Hello" />
                </RusMenuItem>
            </MenuContent>
        </RusMenu>
    </MenuContent>
    <TabContent>
        <RusTabItem Name="First tab" IconName="auto_awesome">
            <RusModelView>
                <RusModelBox TableName="Hello Hello Hello Hello" Right="@(("Yo", "Yo"))" Bottom="@(("Yo", "Yo"))" GridX="0" GridY="0" Status="Enums.ModelBoxStatus.REQUIRED" OnClick="OpenDialog" />
                <RusModelBox TableName="Hello Hello Hello Hello" GridX="1" GridY="0" />
                <RusModelBox TableName="Hello Hello Hello Hello" Bottom="@(("Yo", "Yo"))" GridX="0" GridY="1" />
                <RusModelBox TableName="Hello Hello Hello Hello" Right="@(("Yo", "Yo"))" GridX="0" GridY="2" />
                <RusModelBox TableName="Hello Hello Hello Hello" GridX="1" GridY="2" />
            </RusModelView>
        </RusTabItem>
        <RusTabItem Name="Second tab">
            <RusBlazor.Components.Loader.RusLoader />
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
        <RusTabItem Name="Third tab">
            Content 3
        </RusTabItem>
    </TabContent>
</RusTabs>
<RusFooter Text="HotfixMods - 10.1.5.50232"/>

@code {
    RusDialog _dialog;
    RusMenu _rusMenu;

    async void OpenDialog()
    {
        var buttons = new List<(string, EventCallback, RusBlazor.Enums.Color)>();
        buttons.Add(("Test", new(this, new Action(Nothing)), RusBlazor.Enums.Color.PRIMARY));
        await _dialog.OpenWithButtonsAsync(typeof(Test), buttons);
    }

    async void Nothing()
    {
        await _dialog.CloseAsync();
    }

    async void OnMenuClickAsync()
    {
        await _rusMenu.OpenAsync();
    }
}